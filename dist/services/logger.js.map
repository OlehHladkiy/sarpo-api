{"version":3,"sources":["../../src/services/logger.ts"],"names":["LoggerService","winston","clear","add","transports","Console","level","handleExceptions","format","combine","colorize","simple","splat","MongoDB","db","mongoConfig","uri","options","useNewUrlParser","useUnifiedTopology"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;;;;;;;AAEe,MAAMA,aAAN,CAAoB;;;;gBAAdA,a,sBAIc,MAAM;AACrCC,EAAAA,OAAO,CAACC,KAAR;AACAD,EAAAA,OAAO,CAACE,GAAR,CACE,IAAIF,OAAO,CAACG,UAAR,CAAmBC,OAAvB,CAA+B;AAC7BC,IAAAA,KAAK,EAAE,OADsB;AAE7BC,IAAAA,gBAAgB,EAAE,IAFW;AAG7BC,IAAAA,MAAM,EAAEP,OAAO,CAACO,MAAR,CAAeC,OAAf,CACNR,OAAO,CAACO,MAAR,CAAeE,QAAf,EADM,EAENT,OAAO,CAACO,MAAR,CAAeG,MAAf,EAFM,EAGNV,OAAO,CAACO,MAAR,CAAeI,KAAf,EAHM;AAHqB,GAA/B,CADF;AAWAX,EAAAA,OAAO,CAACE,GAAR,CACE,IAAKF,OAAO,CAACG,UAAT,CAA4BS,OAAhC,CAAwC;AACtCP,IAAAA,KAAK,EAAE,OAD+B;AAEtCQ,IAAAA,EAAE,EAAEC,qBAAYC,GAFsB;AAGtCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,eAAe,EAAE,IADV;AAEPC,MAAAA,kBAAkB,EAAE;AAFb;AAH6B,GAAxC,CADF;AAUD,C","sourcesContent":["import * as winston from 'winston';\nimport 'winston-mongodb';\n\nimport mongoConfig from '@config/mongoConfig';\n\nexport default class LoggerService {\n  /**\n   * Initialize Winston logger with MongoDB transport.\n   */\n  public static initializeLogger = () => {\n    winston.clear();\n    winston.add(\n      new winston.transports.Console({\n        level: 'debug',\n        handleExceptions: true,\n        format: winston.format.combine(\n          winston.format.colorize(),\n          winston.format.simple(),\n          winston.format.splat(),\n        ),\n      }),\n    );\n    winston.add(\n      new (winston.transports as any).MongoDB({\n        level: 'debug',\n        db: mongoConfig.uri,\n        options: {\n          useNewUrlParser: true,\n          useUnifiedTopology: true,\n        },\n      }),\n    );\n  };\n}\n"],"file":"logger.js"}